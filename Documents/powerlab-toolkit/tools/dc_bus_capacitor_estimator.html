<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>PowerLab Toolkit | DC Bus Capacitor Estimator</title>

<style>
body {
  margin: 0;
  font-family: system-ui, -apple-system, sans-serif;
  background: #f4f6f9;
  color: #222;
}

header {
  background: #1a3c6d;
  color: white;
  padding: 1.5rem 2rem;
}

header h1 { margin: 0; }

nav a {
  color: white;
  text-decoration: none;
  margin-right: 1rem;
}

.container {
  max-width: 900px;
  margin: 2rem auto;
  padding: 0 1rem;
}

.form-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
  gap: 1rem;
}

label {
  display: block;
  font-weight: 600;
  margin-bottom: 0.3rem;
}

input {
  width: 100%;
  padding: 0.6rem;
  border-radius: 4px;
  border: 1px solid #ccc;
}

button {
  margin-top: 1.5rem;
  padding: 0.9rem;
  width: 100%;
  font-size: 1rem;
  background: #1a3c6d;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

button:hover { background: #2c5aa3; }

.result-box {
  margin-top: 2rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #ddd;
  line-height: 1.6;
}
</style>
</head>

<body>

<header>
  <h1>PowerLab Toolkit</h1>
  <nav>
    <a href="../index.html">Home</a>
    <a href="dc_bus_capacitor_estimator.html">DC Bus Capacitor</a>
  </nav>
</header>

<main class="container">

<h2>DC Bus Capacitor Estimator</h2>
<p>Estimate bulk capacitance for rectified AC DC-link systems.</p>

<form id="dcForm">

<div class="form-grid">

<div>
<label>Load Current (A)</label>
<input type="number" id="current" value="10" step="0.1">
</div>

<div>
<label>Line Frequency (Hz)</label>
<input type="number" id="frequency" value="60">
</div>

<div>
<label>Allowable Ripple Voltage (V)</label>
<input type="number" id="ripple" value="20">
</div>

<div>
<label>DC Bus Voltage (V)</label>
<input type="number" id="busVoltage" value="340">
</div>

</div>

<button type="submit">Calculate</button>

</form>

<div id="result" class="result-box"></div>

</main>

<script>

document.getElementById("dcForm").addEventListener("submit", function(e){
  e.preventDefault();

  const I = parseFloat(document.getElementById("current").value);
  const f = parseFloat(document.getElementById("frequency").value);
  const dV = parseFloat(document.getElementById("ripple").value);
  const Vbus = parseFloat(document.getElementById("busVoltage").value);

  const dt = 1 / (2 * f);
  const C = (I * dt) / dV;

  const energy = 0.5 * C * Vbus * Vbus;

  document.getElementById("result").innerHTML =
    `<strong>Required Capacitance:</strong> ${(C*1e6).toFixed(0)} ÂµF<br>
     <strong>Stored Energy:</strong> ${energy.toFixed(1)} Joules<br>
     <strong>Ripple Period Used:</strong> ${(dt*1000).toFixed(2)} ms`;
});

</script>

</body>
</html>
